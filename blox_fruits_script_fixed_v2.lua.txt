-- Blox Fruits Script Sea 1 
local Show_Button = true
local Button_Icon = "rbxassetid://135671141026630"
local Button_Transparency = 0.1

-- Services
local plrs = game:GetService("Players")
local tweenservice = game:GetService("TweenService")
local runservice = game:GetService("RunService")
local repstore = game:GetService("ReplicatedStorage")
local virtualuser = game:GetService("VirtualUser")
local workspace = game:GetService("Workspace")

-- Player
local plr = plrs.LocalPlayer
local char = plr.Character or plr.CharacterAdded:Wait()
local hum = char:WaitForChild("Humanoid")
local hrp = char:WaitForChild("HumanoidRootPart")

-- Variables
_G.SelectWeapon = ""
_G.FastAttack = false
_G.BringMob = false
_G.AutoFarm = false
_G.SelectBoss = ""
_G.AutoSaber = false
_G.FruitESP = false
_G.BringFruit = false

local fastattackconnection
local autofarmconnection

-- UI Button
local screenGui = Instance.new("ScreenGui")
local imageButton = Instance.new("ImageButton")
local uiCorner = Instance.new("UICorner")
local uiStroke = Instance.new("UIStroke")
local uiGradient = Instance.new("UIGradient")
local uiScale = Instance.new("UIScale")

screenGui.Name = "BloxFruitsHub"
screenGui.Parent = game.CoreGui
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

imageButton.Parent = screenGui
imageButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
imageButton.BackgroundTransparency = Button_Transparency
imageButton.BorderSizePixel = 0
imageButton.Position = UDim2.new(0.05, 0, 0.1, 0)
imageButton.Size = UDim2.new(0, 70, 0, 70)
imageButton.Image = Button_Icon
imageButton.Draggable = true
imageButton.ImageTransparency = 0

uiCorner.CornerRadius = UDim.new(0, 20)
uiCorner.Parent = imageButton

uiStroke.Parent = imageButton
uiStroke.Color = Color3.fromRGB(0, 150, 255)
uiStroke.Thickness = 4
uiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

uiGradient.Parent = imageButton
uiGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(135, 206, 250)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(70, 130, 180))
}
uiGradient.Rotation = 45

uiScale.Parent = imageButton
uiScale.Scale = 1

-- Animation
local function animateButton()
    local tween1 = tweenservice:Create(uiScale, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {Scale = 0.8})
    tween1:Play()
    tween1.Completed:Connect(function()
        local tween2 = tweenservice:Create(uiScale, TweenInfo.new(0.1, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Scale = 1.1})
        tween2:Play()
        tween2.Completed:Connect(function()
            local tween3 = tweenservice:Create(uiScale, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Scale = 1})
            tween3:Play()
        end)
    end)
end

-- Toggle
local isHidden = false
imageButton.MouseButton1Click:Connect(function()
    animateButton()
    wait(0.2)
    if isHidden then
        for _, gui in pairs(game.CoreGui:GetChildren()) do
            if gui.Name == "ScreenGui" and gui:FindFirstChild("Frame") then
                gui.Enabled = true
            end
        end
        if Window and Window.Root then
            Window.Root.Visible = true
        end
        isHidden = false
    else
        for _, gui in pairs(game.CoreGui:GetChildren()) do
            if gui.Name == "ScreenGui" and gui:FindFirstChild("Frame") then
                gui.Enabled = false
            end
        end
        if Window and Window.Root then
            Window.Root.Visible = false
        end
        isHidden = true
    end
end)

wait(3)

-- Load UI Library
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

local Window = Fluent:CreateWindow({
    Title = "BLOX FRUITS HUB | SEA 1",
    SubTitle = "Professional Script",
    TabWidth = 130,
    Size = UDim2.fromOffset(650, 550),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

-- Tabs
local Tabs = {
    Main = Window:AddTab({ Title = "Main", Icon = "home" }),
    Farm = Window:AddTab({ Title = "Auto Farm", Icon = "zap" }),
}

-- Functions
local function getWeapons()
    local weapons = {}
    for _, tool in pairs(plr.Backpack:GetChildren()) do
        if tool:IsA("Tool") then
            table.insert(weapons, tool.Name)
        end
    end
    if plr.Character then
        for _, tool in pairs(plr.Character:GetChildren()) do
            if tool:IsA("Tool") then
                table.insert(weapons, tool.Name)
            end
        end
    end
    return weapons
end

local function equipWeapon(weaponName)
    if weaponName and weaponName ~= "" then
        if plr.Backpack:FindFirstChild(weaponName) then
            hum:EquipTool(plr.Backpack:FindFirstChild(weaponName))
        end
    end
end

-- Fast Attack
local function startFastAttack()
    if fastattackconnection then 
        fastattackconnection:Disconnect() 
        fastattackconnection = nil 
    end
    fastattackconnection = runservice.RenderStepped:Connect(function()
        if not _G.FastAttack then return end
        local char = plr.Character
        if char and char:FindFirstChild("Humanoid") and char:FindFirstChild("HumanoidRootPart") then
            local tool = char:FindFirstChild(_G.SelectWeapon) or char:FindFirstChildOfClass("Tool")
            if tool and tool:FindFirstChild("Handle") then
                tool:Activate()
                virtualuser:CaptureController()
                virtualuser:Button1Down(Vector2.new(0,0))
                wait(0.03)
                virtualuser:Button1Up(Vector2.new(0,0))
                
                -- Additional attack methods
                for _, v in pairs(tool:GetDescendants()) do
                    if v:IsA("RemoteEvent") then
                        v:FireServer()
                    end
                end
            end
        end
    end)
end

local function stopFastAttack()
    if fastattackconnection then 
        fastattackconnection:Disconnect() 
        fastattackconnection = nil 
    end
end

-- Bring Mobs
local function bringMobs(monsterName)
    for _, mob in pairs(workspace.Enemies:GetChildren()) do
        if mob:FindFirstChild("Humanoid") and mob:FindFirstChild("HumanoidRootPart") and mob.Humanoid.Health > 0 then
            if string.find(mob.Name, monsterName) then
                mob.HumanoidRootPart.CFrame = hrp.CFrame * CFrame.new(0, -30, 0)
                mob.HumanoidRootPart.CanCollide = false
                mob.HumanoidRootPart.Size = Vector3.new(60, 60, 60)
                mob.HumanoidRootPart.Transparency = 0.7
                mob.Humanoid.PlatformStand = true
                mob.Humanoid.Sit = true
                mob.Humanoid.WalkSpeed = 0
                mob.Humanoid.JumpPower = 0
                for _, v in pairs(mob:GetDescendants()) do
                    if v:IsA("BodyVelocity") or v:IsA("BodyPosition") or v:IsA("BodyAngularVelocity") then
                        v:Destroy()
                    end
                end
            end
        end
    end
end

-- Quest Data for Sea 1
local QuestData = {}
local function getQuestInfo()
    local playerLevel = plr.Data.Level.Value
    
    if playerLevel >= 1 and playerLevel <= 9 then
        QuestData = {
            Monster = "Bandit",
            QuestName = "BanditQuest1",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(1060.9383544922, 16.455066680908, 1547.7841796875),
            MonsterCFrame = CFrame.new(1038.5533447266, 41.296249389648, 1576.5098876953)
        }
    elseif playerLevel >= 10 and playerLevel <= 14 then
        QuestData = {
            Monster = "Monkey",
            QuestName = "JungleQuest",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(-1600.9403076172, 36.85213470459, 153.38809204102),
            MonsterCFrame = CFrame.new(-1522.0372314453, 23.78730583191, 130.04859924316)
        }
    elseif playerLevel >= 15 and playerLevel <= 29 then
        QuestData = {
            Monster = "Gorilla",
            QuestName = "JungleQuest",
            QuestNumber = 2,
            QuestCFrame = CFrame.new(-1600.9403076172, 36.85213470459, 153.38809204102),
            MonsterCFrame = CFrame.new(-1216.9769287109, 12.526931762695, -513.66119384766)
        }
    elseif playerLevel >= 30 and playerLevel <= 39 then
        QuestData = {
            Monster = "Pirate",
            QuestName = "BuggyQuest1",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(-1140.1761474609, 4.752049446106, 3827.4057617188),
            MonsterCFrame = CFrame.new(-1201.0881347656, 40.628940582275, 3857.5966796875)
        }
    elseif playerLevel >= 40 and playerLevel <= 59 then
        QuestData = {
            Monster = "Brute",
            QuestName = "BuggyQuest1",
            QuestNumber = 2,
            QuestCFrame = CFrame.new(-1140.1761474609, 4.752049446106, 3827.4057617188),
            MonsterCFrame = CFrame.new(-1145.8410644531, 14.857370376587, 4294.6552734375)
        }
    elseif playerLevel >= 60 and playerLevel <= 74 then
        QuestData = {
            Monster = "Desert Bandit",
            QuestName = "DesertQuest",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(896.51721191406, 6.4384617805481, 4390.7138671875),
            MonsterCFrame = CFrame.new(932.0863037109, 16.822689056396, 4498.3330078125)
        }
    elseif playerLevel >= 75 and playerLevel <= 89 then
        QuestData = {
            Monster = "Desert Officer",
            QuestName = "DesertQuest",
            QuestNumber = 2,
            QuestCFrame = CFrame.new(896.51721191406, 6.4384617805481, 4390.7138671875),
            MonsterCFrame = CFrame.new(1580.8070068359, 10.759552955627, 4373.1357421875)
        }
    elseif playerLevel >= 90 and playerLevel <= 99 then
        QuestData = {
            Monster = "Snow Bandit",
            QuestName = "SnowQuest",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(1384.9451904297, 87.272789001465, -1297.0466308594),
            MonsterCFrame = CFrame.new(1354.347656, 87.272789001465, -1393.946289)
        }
    elseif playerLevel >= 100 and playerLevel <= 119 then
        QuestData = {
            Monster = "Snowman",
            QuestName = "SnowQuest",
            QuestNumber = 2,
            QuestCFrame = CFrame.new(1384.9451904297, 87.272789001465, -1297.0466308594),
            MonsterCFrame = CFrame.new(1201.6412353516, 144.57958984375, -1550.0670166016)
        }
    elseif playerLevel >= 120 and playerLevel <= 149 then
        QuestData = {
            Monster = "Chief Petty Officer",
            QuestName = "MarineQuest2",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(-5035.49609375, 28.677835464478, 4324.1840820313),
            MonsterCFrame = CFrame.new(-4882.8037109375, 22.47519302368, 4255.538085937)
        }
    elseif playerLevel >= 150 and playerLevel <= 174 then
        QuestData = {
            Monster = "Sky Bandit",
            QuestName = "SkyQuest",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(-4721.8603515625, 845.30297851563, -1953.8489990234),
            MonsterCFrame = CFrame.new(-4953.20703125, 295.74420166016, -2899.22900390625)
        }
    elseif playerLevel >= 175 and playerLevel <= 189 then
        QuestData = {
            Monster = "Dark Master",
            QuestName = "SkyQuest",
            QuestNumber = 2,
            QuestCFrame = CFrame.new(-4721.8603515625, 845.30297851563, -1953.8489990234),
            MonsterCFrame = CFrame.new(-5420.16455078125, 1084.9657958984375, -2666.8818359375)
        }
    elseif playerLevel >= 190 and playerLevel <= 209 then
        QuestData = {
            Monster = "Prisoner",
            QuestName = "PrisonerQuest",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(5308.93115, 1.65517521, 475.120514),
            MonsterCFrame = CFrame.new(5098.9736328125, -0.3204058110714, 474.2373352050781)
        }
    elseif playerLevel >= 210 and playerLevel <= 249 then
        QuestData = {
            Monster = "Dangerous Prisoner",
            QuestName = "PrisonerQuest",
            QuestNumber = 2,
            QuestCFrame = CFrame.new(5308.93115, 1.65517521, 475.120514),
            MonsterCFrame = CFrame.new(5654.5634765625, 15.633401870728, 866.2991943359375)
        }
    elseif playerLevel >= 250 and playerLevel <= 274 then
        QuestData = {
            Monster = "Toga Warrior",
            QuestName = "ColosseumQuest",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(-1580.04663, 6.35000277, -2986.47534),
            MonsterCFrame = CFrame.new(-1770.2164306641, 8.6400003433228, -2979.7634277344)
        }
    elseif playerLevel >= 275 and playerLevel <= 299 then
        QuestData = {
            Monster = "Gladiator",
            QuestName = "ColosseumQuest",
            QuestNumber = 2,
            QuestCFrame = CFrame.new(-1580.04663, 6.35000277, -2986.47534),
            MonsterCFrame = CFrame.new(-1292.838134765625, 56.380882263184, -3339.031494140625)
        }
    elseif playerLevel >= 300 and playerLevel <= 324 then
        QuestData = {
            Monster = "Military Soldier",
            QuestName = "MagmaQuest",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(-5313.8642578125, 10.9417428970337, 8515.29296875),
            MonsterCFrame = CFrame.new(-5411.16455078125, 11.081554412842, 8454.29296875)
        }
    elseif playerLevel >= 325 and playerLevel <= 374 then
        QuestData = {
            Monster = "Military Spy",
            QuestName = "MagmaQuest",
            QuestNumber = 2,
            QuestCFrame = CFrame.new(-5313.8642578125, 10.9417428970337, 8515.29296875),
            MonsterCFrame = CFrame.new(-5802.8681640625, 86.26241302490234, 8828.859375)
        }
    elseif playerLevel >= 375 and playerLevel <= 399 then
        QuestData = {
            Monster = "Fishman Warrior",
            QuestName = "FishmanQuest",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(61122.65234375, 18.497442245483, 1569.3997802734),
            MonsterCFrame = CFrame.new(60844.10546875, 98.462875366211, 1298.90478515625)
        }
    elseif playerLevel >= 400 and playerLevel <= 449 then
        QuestData = {
            Monster = "Fishman Commando",
            QuestName = "FishmanQuest",
            QuestNumber = 2,
            QuestCFrame = CFrame.new(61122.65234375, 18.497442245483, 1569.3997802734),
            MonsterCFrame = CFrame.new(61922.6328125, 26.906463623047, 1608.2921142578)
        }
    elseif playerLevel >= 450 and playerLevel <= 474 then
        QuestData = {
            Monster = "God's Guard",
            QuestName = "SkyExp1Quest",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(-7859.09814, 5544.19043, -381.476196),
            MonsterCFrame = CFrame.new(-4698.97607421875, 845.30297851563, -1839.7841796875)
        }
    elseif playerLevel >= 475 and playerLevel <= 524 then
        QuestData = {
            Monster = "Shanda",
            QuestName = "SkyExp1Quest",
            QuestNumber = 2,
            QuestCFrame = CFrame.new(-7859.09814, 5544.19043, -381.476196),
            MonsterCFrame = CFrame.new(-7678.48974609375, 5566.40380859375, -497.2156066894531)
        }
    elseif playerLevel >= 525 and playerLevel <= 549 then
        QuestData = {
            Monster = "Royal Squad",
            QuestName = "SkyExp2Quest",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(-7906.81592, 5634.6626, -1411.99194),
            MonsterCFrame = CFrame.new(-7624.25244140625, 5658.13330078125, -1467.354248046875)
        }
    elseif playerLevel >= 550 and playerLevel <= 624 then
        QuestData = {
            Monster = "Royal Soldier",
            QuestName = "SkyExp2Quest",
            QuestNumber = 2,
            QuestCFrame = CFrame.new(-7906.81592, 5634.6626, -1411.99194),
            MonsterCFrame = CFrame.new(-7836.75341796875, 5645.6640625, -1790.6236572265625)
        }
    elseif playerLevel >= 625 and playerLevel <= 649 then
        QuestData = {
            Monster = "Galley Pirate",
            QuestName = "FountainQuest",
            QuestNumber = 1,
            QuestCFrame = CFrame.new(5259.81982, 37.3500175, 4050.0293),
            MonsterCFrame = CFrame.new(5551.02197265625, 78.90135192871094, 3930.412841796875)
        }
    elseif playerLevel >= 650 then
        QuestData = {
            Monster = "Galley Captain",
            QuestName = "FountainQuest",
            QuestNumber = 2,
            QuestCFrame = CFrame.new(5259.81982, 37.3500175, 4050.0293),
            MonsterCFrame = CFrame.new(5441.95166015625, 42.50205993652344, 4950.09375)
        }
    end
end

-- Movement
local function tweenTo(pos)
    local distance = (hrp.Position - pos.Position).Magnitude
    local speed = 300
    local time = distance / speed
    local tween = tweenservice:Create(hrp, TweenInfo.new(time, Enum.EasingStyle.Linear), {CFrame = pos})
    tween:Play()
    return tween
end

-- Auto Farm
local function startAutoFarm()
    if autofarmconnection then 
        autofarmconnection:Disconnect() 
        autofarmconnection = nil 
    end
    autofarmconnection = runservice.RenderStepped:Connect(function()
        if not _G.AutoFarm then return end
        pcall(function()
            getQuestInfo()
            local questGui = plr.PlayerGui:FindFirstChild("Main") and plr.PlayerGui.Main:FindFirstChild("Quest")
            
            if not (questGui and questGui.Visible) then
                tweenTo(QuestData.QuestCFrame)
                wait(1.1)
                repstore.Remotes.CommF_:InvokeServer("StartQuest", QuestData.QuestName, QuestData.QuestNumber)
                wait(0.8)
                return
            end
            
            bringMobs(QuestData.Monster)
            
            for _, monster in pairs(workspace.Enemies:GetChildren()) do
                if string.find(monster.Name, QuestData.Monster) and monster:FindFirstChild("Humanoid") and monster.Humanoid.Health > 0 then
                    repeat
                        wait(0.1)
                        if _G.SelectWeapon ~= "" then
                            equipWeapon(_G.SelectWeapon)
                        end
                        
                        hrp.CFrame = monster.HumanoidRootPart.CFrame * CFrame.new(0, 35, 0)
                        
                        -- Expand hitbox
                        monster.HumanoidRootPart.Size = Vector3.new(50, 50, 50)
                        monster.HumanoidRootPart.CanCollide = false
                        monster.HumanoidRootPart.Transparency = 0.5
                        monster.Humanoid.PlatformStand = true
                        monster.Humanoid.Sit = true
                        monster.Humanoid.WalkSpeed = 0
                        monster.Humanoid.JumpPower = 0
                        
                        -- Remove body movers
                        for _, v in pairs(monster:GetDescendants()) do
                            if v:IsA("BodyVelocity") or v:IsA("BodyPosition") or v:IsA("BodyAngularVelocity") then
                                v:Destroy()
                            end
                        end
                        
                        -- Attack with current tool
                        local tool = plr.Character:FindFirstChild(_G.SelectWeapon) or plr.Character:FindFirstChildOfClass("Tool")
                        if tool and tool:FindFirstChild("Handle") then
                            tool:Activate()
                            virtualuser:CaptureController()
                            virtualuser:Button1Down(Vector2.new(0, 0))
                            wait(0.03)
                            virtualuser:Button1Up(Vector2.new(0, 0))
                            
                            -- Fire remote events for damage
                            for _, remote in pairs(tool:GetDescendants()) do
                                if remote:IsA("RemoteEvent") then
                                    remote:FireServer()
                                end
                            end
                        end
                        
                    until not monster.Parent or monster.Humanoid.Health <= 0 or not _G.AutoFarm or not (questGui and questGui.Visible)
                end
            end
        end)
    end)
end

local function stopAutoFarm()
    if autofarmconnection then 
        autofarmconnection:Disconnect() 
        autofarmconnection = nil 
    end
end

-- Main Tab
local WeaponSection = Tabs.Main:AddSection("Weapon")
local CombatSection = Tabs.Main:AddSection("Combat")
local FruitSection = Tabs.Main:AddSection("Fruits")
local StatsSection = Tabs.Main:AddSection("Stats")

WeaponSection:AddDropdown("SelectWeapon", {
    Title = "Choose Weapon",
    Values = getWeapons(),
    Multi = false,
    Default = "",
    Callback = function(Value)
        _G.SelectWeapon = Value
    end
})

CombatSection:AddToggle("FastAttack", {
    Title = "Fast Attack",
    Default = false,
    Callback = function(Value)
        _G.FastAttack = Value
        if Value then
            startFastAttack()
        else
            stopFastAttack()
        end
    end
})

CombatSection:AddToggle("BringMob", {
    Title = "Bring Mobs",
    Default = false,
    Callback = function(Value)
        _G.BringMob = Value
    end
})

-- Farm Tab
local FarmSection = Tabs.Farm:AddSection("Level Farm")
local BossSection = Tabs.Farm:AddSection("Boss")
local SpecialSection = Tabs.Farm:AddSection("Special")

FarmSection:AddToggle("AutoFarm", {
    Title = "Auto Farm Level",
    Default = false,
    Callback = function(Value)
        _G.AutoFarm = Value
        if Value then
            startAutoFarm()
        else
            stopAutoFarm()
        end
    end
})

-- Anti AFK
spawn(function()
    while wait(60) do
        virtualuser:CaptureController()
        virtualuser:ClickButton2(Vector2.new())
    end
end)

print("Blox Fruits Script Loaded!")
print("Sea 1 Only - Max Level 700")
