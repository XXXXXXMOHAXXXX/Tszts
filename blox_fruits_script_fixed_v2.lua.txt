
local Show_Button = true
local Button_Icon = "rbxassetid://135671141026630"
local Button_Transparency = 0.1

-- Create Premium UI Button for Mobile
local ScreenGui = Instance.new("ScreenGui")
local ImageButton = Instance.new("ImageButton")
local UICorner = Instance.new("UICorner")
local UIStroke = Instance.new("UIStroke")
local UIGradient = Instance.new("UIGradient")
local UIScale = Instance.new("UIScale")

ScreenGui.Name = "SpaceHubButton"
ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

ImageButton.Parent = ScreenGui
ImageButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ImageButton.BackgroundTransparency = Button_Transparency
ImageButton.BorderSizePixel = 0
ImageButton.Position = UDim2.new(0.05, 0, 0.1, 0)
ImageButton.Size = UDim2.new(0, 70, 0, 70)
ImageButton.Image = Button_Icon
ImageButton.Draggable = true
ImageButton.ImageTransparency = 0

-- Premium button styling
UICorner.CornerRadius = UDim.new(0, 20)
UICorner.Parent = ImageButton

UIStroke.Parent = ImageButton
UIStroke.Color = Color3.fromRGB(0, 150, 255)
UIStroke.Thickness = 4
UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

UIGradient.Parent = ImageButton
UIGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(240, 248, 255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(200, 230, 255))
}
UIGradient.Rotation = 45

UIScale.Parent = ImageButton
UIScale.Scale = 1

-- Enhanced button animations
local function animateButton()
    local tween1 = game:GetService("TweenService"):Create(
        UIScale,
        TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut),
        {Scale = 0.8}
    )
    tween1:Play()
    tween1.Completed:Connect(function()
        local tween2 = game:GetService("TweenService"):Create(
            UIScale,
            TweenInfo.new(0.1, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
            {Scale = 1.1}
        )
        tween2:Play()
        tween2.Completed:Connect(function()
            local tween3 = game:GetService("TweenService"):Create(
                UIScale,
                TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {Scale = 1}
            )
            tween3:Play()
        end)
    end)
end

-- Hide/Show functionality
local isHidden = false
ImageButton.MouseButton1Click:Connect(function()
    animateButton()
    wait(0.2)
    if isHidden then
        for _, gui in pairs(game.CoreGui:GetChildren()) do
            if gui.Name == "ScreenGui" and gui:FindFirstChild("Frame") then
                gui.Enabled = true
            end
        end
        isHidden = false
    else
        for _, gui in pairs(game.CoreGui:GetChildren()) do
            if gui.Name == "ScreenGui" and gui:FindFirstChild("Frame") then
                gui.Enabled = false
            end
        end
        isHidden = true
    end
end)

-- Load Fluent UI with Light theme
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

local Window = Fluent:CreateWindow({
    Title = "SPACE HUB ULTIMATE - BLOX FRUIT",
    SubTitle = "by MOHA - v3.0 OP Edition",
    TabWidth = 180,
    Size = UDim2.fromOffset(680, 550),
    Acrylic = true,
    Theme = "Light",
    MinimizeKey = Enum.KeyCode.LeftControl
})

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local VirtualInputManager = game:GetService("VirtualInputManager")
local UserInputService = game:GetService("UserInputService")
local HttpService = game:GetService("HttpService")
local Player = Players.LocalPlayer

-- Wait for character
repeat wait() until Player.Character
local Character = Player.Character or Player.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local RootPart = Character:WaitForChild("HumanoidRootPart")

-- Ultimate Settings - Most OP configuration
local Settings = {
    -- Combat Settings
    FastAttack = false,
    BringMobs = false,
    AutoFarmLevel = false,
    AutoBoss = false,
    SelectedWeapon = "Combat",
    SelectedBoss = "Gorilla King",
    AttackRange = 500,
    TweenSpeed = 350,
    AttackDelay = 0.02,
    SuperHitbox = true,
    HitboxMultiplier = 25,
    RemoveAttackCooldown = true,
    AutoEquipWeapon = true,
    
    -- Quest & Farming
    AutoQuest = false,
    AutoMaterial = false,
    AutoBones = false,
    AutoEctoplasm = false,
    SelectedMaterial = "Bones",
    
    -- Raid Settings
    AutoRaid = false,
    SelectedChip = "Flame",
    AutoNextIsland = true,
    AutoAwaken = false,
    
    -- PvP Settings
    LockTarget = false,
    KillAura = false,
    AutoDodge = false,
    AutoObservation = true,
    PvPRange = 50,
    
    -- Sea Settings
    AutoSeaEvent = false,
    AutoLeviathan = false,
    AutoKitsune = false,
    AutoTerrorshark = false,
    
    -- Movement & Utility
    WalkSpeed = 16,
    JumpPower = 50,
    NoClip = false,
    InfiniteJump = false,
    Fly = false,
    FlySpeed = 50,
    AntiAFK = true,
    AutoRespawn = true,
    
    -- Visual & UI
    RemoveNotifications = false,
    ESPEnabled = false,
    ShowStats = true
}

-- Create tabs
local MainTab = Window:AddTab({Title = "Main", Icon = "home"})
local AutoFarmTab = Window:AddTab({Title = "Auto Farm", Icon = "zap"})
local RaidTab = Window:AddTab({Title = "Raid", Icon = "shield"})
local PvPTab = Window:AddTab({Title = "PvP", Icon = "sword"})
local TeleportTab = Window:AddTab({Title = "Teleport", Icon = "map-pin"})
local SeaTab = Window:AddTab({Title = "Sea", Icon = "anchor"})
local SettingsTab = Window:AddTab({Title = "Settings", Icon = "settings"})

-- Connection storage
local Connections = {}

-- Enhanced Utility Functions
local function GetPlayerLevel()
    local success, level = pcall(function()
        if Player.Data and Player.Data.Level then
            return Player.Data.Level.Value
        end
        return 1
    end)
    return success and level or 1
end

local function GetPlayerMoney()
    local success, money = pcall(function()
        if Player.Data and Player.Data.Beli then
            return Player.Data.Beli.Value
        end
        return 0
    end)
    return success and money or 0
end

local function GetPlayerFragments()
    local success, fragments = pcall(function()
        if Player.Data and Player.Data.Fragments then
            return Player.Data.Fragments.Value
        end
        return 0
    end)
    return success and fragments or 0
end

local function GetPlayerRace()
    local success, race = pcall(function()
        if Player.Data and Player.Data.Race then
            return Player.Data.Race.Value
        end
        return "Human"
    end)
    return success and race or "Human"
end

local function GetPlayerBounty()
    local success, bounty = pcall(function()
        if Player.leaderstats and Player.leaderstats.Bounty then
            return Player.leaderstats.Bounty.Value
        elseif Player.Data and Player.Data.Bounty then
            return Player.Data.Bounty.Value
        end
        return 0
    end)
    return success and bounty or 0
end

local function GetPlayerHonor()
    local success, honor = pcall(function()
        if Player.leaderstats and Player.leaderstats.Honor then
            return Player.leaderstats.Honor.Value
        elseif Player.Data and Player.Data.Honor then
            return Player.Data.Honor.Value
        end
        return 0
    end)
    return success and honor or 0
end

-- Enhanced Teleport Function
local function TeleportTo(position)
    pcall(function()
        if RootPart and position then
            local distance = (RootPart.Position - position).Magnitude
            if distance < 100 then
                RootPart.CFrame = CFrame.new(position)
            else
                local tweenInfo = TweenInfo.new(
                    distance / Settings.TweenSpeed,
                    Enum.EasingStyle.Linear,
                    Enum.EasingDirection.InOut,
                    0,
                    false,
                    0
                )
                local tween = TweenService:Create(RootPart, tweenInfo, {CFrame = CFrame.new(position)})
                tween:Play()
            end
        end
    end)
end

-- Enhanced Weapon Equipment
local function EquipWeapon()
    pcall(function()
        for _, tool in pairs(Player.Character:GetChildren()) do
            if tool:IsA("Tool") then
                return true
            end
        end
        
        for _, tool in pairs(Player.Backpack:GetChildren()) do
            if tool:IsA("Tool") then
                local toolName = tool.Name:lower()
                local toolTip = tool.ToolTip or ""
                
                if Settings.SelectedWeapon == "Combat" and (toolName:find("combat") or toolTip:find("Melee")) then
                    Humanoid:EquipTool(tool)
                    return true
                elseif Settings.SelectedWeapon == "Sword" and toolTip:find("Sword") then
                    Humanoid:EquipTool(tool)
                    return true
                elseif Settings.SelectedWeapon == "Blox Fruit" and toolTip:find("Blox Fruit") then
                    Humanoid:EquipTool(tool)
                    return true
                elseif Settings.SelectedWeapon == "Gun" and toolTip:find("Gun") then
                    Humanoid:EquipTool(tool)
                    return true
                end
            end
        end
        
        for _, tool in pairs(Player.Backpack:GetChildren()) do
            if tool:IsA("Tool") then
                Humanoid:EquipTool(tool)
                return true
            end
        end
    end)
    return false
end

-- ULTIMATE Fast Attack with MASSIVE hitbox
local function FastAttack()
    if not Settings.FastAttack then return end
    
    pcall(function()
        local tool = Player.Character:FindFirstChildOfClass("Tool")
        if tool and tool:FindFirstChild("Handle") then
            for i = 1, 8 do
                tool:Activate()
                
                if ReplicatedStorage:FindFirstChild("Remotes") then
                    local remotes = ReplicatedStorage.Remotes
                    if remotes:FindFirstChild("CommF_") then
                        remotes.CommF_:InvokeServer("TAP")
                    end
                    
                    if remotes:FindFirstChild("RigControllerEvent") then
                        remotes.RigControllerEvent:FireServer("weaponChange", tool.Name)
                        remotes.RigControllerEvent:FireServer("hit", {}, i, "")
                    end
                end
                
                local handle = tool:FindFirstChild("Handle")
                if handle and Settings.SuperHitbox then
                    local hitboxSize = Settings.AttackRange * Settings.HitboxMultiplier
                    handle.Size = Vector3.new(hitboxSize, hitboxSize, hitboxSize)
                    handle.Transparency = 1
                    handle.CanCollide = false
                    handle.Massless = true
                end
                
                if Settings.RemoveAttackCooldown then
                    tool.Parent = Player.Backpack
                    wait(Settings.AttackDelay)
                    tool.Parent = Player.Character
                end
            end
        end
    end)
end

-- Enhanced Quest System
local function GetQuestData()
    local level = GetPlayerLevel()
    local questData = {}
    
    if level >= 1 and level <= 9 then
        questData.name = "BanditQuest1"
        questData.num = 1
        questData.pos = Vector3.new(1059, 17, 1547)
        questData.mob = "Bandit"
        questData.mobPos = Vector3.new(1045, 17, 1560)
    elseif level >= 10 and level <= 14 then
        questData.name = "JungleQuest"
        questData.num = 1
        questData.pos = Vector3.new(-1598, 37, 153)
        questData.mob = "Monkey"
        questData.mobPos = Vector3.new(-1448, 50, 63)
    elseif level >= 15 and level <= 29 then
        questData.name = "BuggyQuest1"
        questData.num = 1
        questData.pos = Vector3.new(-1139, 5, 4380)
        questData.mob = "Pirate"
        questData.mobPos = Vector3.new(-1103, 14, 4370)
    elseif level >= 30 and level <= 39 then
        questData.name = "DesertQuest"
        questData.num = 1
        questData.pos = Vector3.new(897, 7, 4388)
        questData.mob = "Desert Bandit"
        questData.mobPos = Vector3.new(924, 7, 4481)
    elseif level >= 40 and level <= 59 then
        questData.name = "DesertQuest"
        questData.num = 2
        questData.pos = Vector3.new(897, 7, 4388)
        questData.mob = "Desert Officer"
        questData.mobPos = Vector3.new(1608, 7, 4371)
    elseif level >= 60 and level <= 74 then
        questData.name = "SnowQuest"
        questData.num = 1
        questData.pos = Vector3.new(1384, 87, -1297)
        questData.mob = "Snow Bandit"
        questData.mobPos = Vector3.new(1289, 106, -1221)
    elseif level >= 75 and level <= 89 then
        questData.name = "SnowQuest"
        questData.num = 2
        questData.pos = Vector3.new(1384, 87, -1297)
        questData.mob = "Snowman"
        questData.mobPos = Vector3.new(1289, 106, -1221)
    elseif level >= 90 and level <= 99 then
        questData.name = "MarineQuest"
        questData.num = 1
        questData.pos = Vector3.new(-2440, 73, 2048)
        questData.mob = "Marine"
        questData.mobPos = Vector3.new(-2678, 73, 2328)
    elseif level >= 100 and level <= 119 then
        questData.name = "MarineQuest"
        questData.num = 2
        questData.pos = Vector3.new(-2440, 73, 2048)
        questData.mob = "Marine"
        questData.mobPos = Vector3.new(-2678, 73, 2328)
    elseif level >= 120 and level <= 149 then
        questData.name = "MarineQuest2"
        questData.num = 1
        questData.pos = Vector3.new(-5039, 28, 4324)
        questData.mob = "Chief Petty Officer"
        questData.mobPos = Vector3.new(-4882, 23, 4273)
    elseif level >= 150 and level <= 174 then
        questData.name = "MarineQuest2"
        questData.num = 2
        questData.pos = Vector3.new(-5039, 28, 4324)
        questData.mob = "Sky Bandit"
        questData.mobPos = Vector3.new(-4953, 295, -2899)
    elseif level >= 175 and level <= 189 then
        questData.name = "SkyQuest"
        questData.num = 1
        questData.pos = Vector3.new(-4841, 717, -2623)
        questData.mob = "Dark Master"
        questData.mobPos = Vector3.new(-5259, 391, -2229)
    elseif level >= 190 and level <= 209 then
        questData.name = "SkyQuest"
        questData.num = 2
        questData.pos = Vector3.new(-4841, 717, -2623)
        questData.mob = "Toga Warrior"
        questData.mobPos = Vector3.new(-5259, 391, -2229)
    elseif level >= 210 and level <= 249 then
        questData.name = "ColosseumQuest"
        questData.num = 1
        questData.pos = Vector3.new(-1580, 7, -2986)
        questData.mob = "Gladiator"
        questData.mobPos = Vector3.new(-1292, 56, -3339)
    elseif level >= 250 and level <= 274 then
        questData.name = "ColosseumQuest"
        questData.num = 2
        questData.pos = Vector3.new(-1580, 7, -2986)
        questData.mob = "Military Soldier"
        questData.mobPos = Vector3.new(-1292, 56, -3339)
    elseif level >= 275 and level <= 299 then
        questData.name = "MagmaQuest"
        questData.num = 1
        questData.pos = Vector3.new(-5430, 15, 8469)
        questData.mob = "Military Spy"
        questData.mobPos = Vector3.new(-5815, 84, 8820)
    elseif level >= 300 and level <= 324 then
        questData.name = "MagmaQuest"
        questData.num = 2
        questData.pos = Vector3.new(-5430, 15, 8469)
        questData.mob = "Fishman Warrior"
        questData.mobPos = Vector3.new(-5815, 84, 8820)
    elseif level >= 325 and level <= 374 then
        questData.name = "FishmanQuest"
        questData.num = 1
        questData.pos = Vector3.new(61123, 19, 1569)
        questData.mob = "Fishman Warrior"
        questData.mobPos = Vector3.new(60906, 49, 1369)
    elseif level >= 375 and level <= 399 then
        questData.name = "FishmanQuest"
        questData.num = 2
        questData.pos = Vector3.new(61123, 19, 1569)
        questData.mob = "Fishman Commando"
        questData.mobPos = Vector3.new(61737, 64, 1356)
    elseif level >= 400 and level <= 449 then
        questData.name = "SkyExp1Quest"
        questData.num = 1
        questData.pos = Vector3.new(-7862, 5545, -380)
        questData.mob = "God's Guard"
        questData.mobPos = Vector3.new(-4698, 845, -1912)
    elseif level >= 450 and level <= 474 then
        questData.name = "SkyExp1Quest"
        questData.num = 2
        questData.pos = Vector3.new(-7862, 5545, -380)
        questData.mob = "Shanda"
        questData.mobPos = Vector3.new(-7678, 5566, -502)
    elseif level >= 475 and level <= 524 then
        questData.name = "SkyExp2Quest"
        questData.num = 1
        questData.pos = Vector3.new(-7900, 5635, -1411)
        questData.mob = "Royal Squad"
        questData.mobPos = Vector3.new(-7624, 1618, -1666)
    elseif level >= 525 and level <= 549 then
        questData.name = "SkyExp2Quest"
        questData.num = 2
        questData.pos = Vector3.new(-7900, 5635, -1411)
        questData.mob = "Royal Soldier"
        questData.mobPos = Vector3.new(-7836, 1645, -1676)
    elseif level >= 550 and level <= 624 then
        questData.name = "SkyExp3Quest"
        questData.num = 1
        questData.pos = Vector3.new(-7515, 5000, -15)
        questData.mob = "Galley Pirate"
        questData.mobPos = Vector3.new(5551, 45, 3946)
    elseif level >= 625 and level <= 649 then
        questData.name = "FountainQuest"
        questData.num = 1
        questData.pos = Vector3.new(5259, 38, 4050)
        questData.mob = "Galley Captain"
        questData.mobPos = Vector3.new(5441, 42, 4657)
    elseif level >= 650 and level <= 699 then
        questData.name = "FountainQuest"
        questData.num = 2
        questData.pos = Vector3.new(5259, 38, 4050)
        questData.mob = "Galley Captain"
        questData.mobPos = Vector3.new(5441, 42, 4657)
    end
    
    return questData
end

local function AcceptQuest()
    pcall(function()
        local questData = GetQuestData()
        if questData.name then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("StartQuest", questData.name, questData.num or 1)
        end
    end)
end

local function CheckQuest()
    local questData = GetQuestData()
    if questData.name then
        local questProgress = Player.PlayerGui.Main.Quest
        if questProgress.Visible == false then
            return false
        end
        
        local questTitle = questProgress.Container.QuestTitle.Title.Text
        if string.find(questTitle, questData.mob) then
            return true
        end
    end
    return false
end

local function FindQuestMob()
    local questData = GetQuestData()
    if not questData.mob then return nil end
    
    for _, mob in pairs(Workspace.Enemies:GetChildren()) do
        if mob.Name == questData.mob and mob:FindFirstChild("HumanoidRootPart") and mob:FindFirstChild("Humanoid") and mob.Humanoid.Health > 0 then
            return mob
        end
    end
    return nil
end

local function BringMob(mob)
    if not mob or not mob:FindFirstChild("HumanoidRootPart") or not mob:FindFirstChild("Humanoid") or mob.Humanoid.Health <= 0 then
        return
    end
    
    pcall(function()
        local targetPosition = RootPart.CFrame * CFrame.new(0, 0, -8)
        mob.HumanoidRootPart.CFrame = targetPosition
        mob.HumanoidRootPart.CanCollide = false
        mob.HumanoidRootPart.Size = Vector3.new(1, 1, 1)
        mob.Humanoid.WalkSpeed = 0
        mob.Humanoid.JumpPower = 0
        mob.Humanoid.PlatformStand = true
        
        for _, part in pairs(mob:GetChildren()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end)
end

-- Enhanced Auto Farm Level Function
local function AutoFarmLevel()
    if not Settings.AutoFarmLevel then return end
    
    pcall(function()
        local questData = GetQuestData()
        if not questData.name then return end
        
        -- Check if we have the correct quest
        if not CheckQuest() and Settings.AutoQuest then
            -- Go to quest giver and accept quest
            TeleportTo(questData.pos)
            wait(1.5)
            AcceptQuest()
            wait(1)
        end
        
        -- Find quest mob
        local questMob = FindQuestMob()
        if questMob then
            -- Teleport to mob area
            TeleportTo(questMob.HumanoidRootPart.Position + Vector3.new(0, 20, 0))
            
            repeat
                -- Equip weapon
                if Settings.AutoEquipWeapon then
                    EquipWeapon()
                end
                
                -- Bring mob if enabled
                if Settings.BringMobs then
                    BringMob(questMob)
                end
                
                -- Attack mob
                if Settings.FastAttack then
                    FastAttack()
                end
                
                wait(0.1)
            until not questMob.Parent or questMob.Humanoid.Health <= 0 or not Settings.AutoFarmLevel
        else
            -- If no quest mob found, go to mob location
            if questData.mobPos then
                TeleportTo(questData.mobPos)
                wait(2)
            end
        end
    end)
end

-- MAIN TAB
MainTab:AddSection("Combat Settings")

local WeaponDropdown = MainTab:AddDropdown("WeaponSelect", {
    Title = "Choose Weapon",
    Values = {"Combat", "Sword", "Blox Fruit", "Gun", "Melee"},
    Multi = false,
    Default = 1
})

WeaponDropdown:OnChanged(function(Value)
    Settings.SelectedWeapon = Value
    Fluent:Notify({
        Title = "Weapon Selected",
        Content = "Selected weapon: " .. Value,
        Duration = 3
    })
end)

local FastAttackToggle = MainTab:AddToggle("FastAttackToggle", {
    Title = "Ultimate Fast Attack",
    Default = false
})

FastAttackToggle:OnChanged(function(Value)
    Settings.FastAttack = Value
    Fluent:Notify({
        Title = "Ultimate Fast Attack",
        Content = Value and "Enabled with MASSIVE hitbox!" or "Disabled",
        Duration = 3
    })
end)

local SuperHitboxToggle = MainTab:AddToggle("SuperHitboxToggle", {
    Title = "Super Hitbox (25x Range)",
    Default = true
})

SuperHitboxToggle:OnChanged(function(Value)
    Settings.SuperHitbox = Value
end)

local BringMobsToggle = MainTab:AddToggle("BringMobsToggle", {
    Title = "Bring Mobs",
    Default = false
})

BringMobsToggle:OnChanged(function(Value)
    Settings.BringMobs = Value
end)

MainTab:AddSection("Enhanced Player Stats")

local LevelLabel = MainTab:AddParagraph({
    Title = "Level",
    Content = "Current Level: " .. GetPlayerLevel()
})

local MoneyLabel = MainTab:AddParagraph({
    Title = "Money",
    Content = "Beli: " .. string.format("%s", GetPlayerMoney())
})

local FragmentsLabel = MainTab:AddParagraph({
    Title = "Fragments",
    Content = "Fragments: " .. string.format("%s", GetPlayerFragments())
})

local RaceLabel = MainTab:AddParagraph({
    Title = "Race",
    Content = "Race: " .. GetPlayerRace()
})

local BountyLabel = MainTab:AddParagraph({
    Title = "Bounty/Honor",
    Content = "Bounty: " .. string.format("%s", GetPlayerBounty())
})

local HonorLabel = MainTab:AddParagraph({
    Title = "Honor",
    Content = "Honor: " .. string.format("%s", GetPlayerHonor())
})

-- AUTO FARM TAB
AutoFarmTab:AddSection("Level Farming")

local AutoFarmLevelToggle = AutoFarmTab:AddToggle("AutoFarmLevelToggle", {
    Title = "Auto Farm Level",
    Default = false
})

AutoFarmLevelToggle:OnChanged(function(Value)
    Settings.AutoFarmLevel = Value
    Fluent:Notify({
        Title = "Auto Farm Level",
        Content = Value and "Started level farming!" or "Stopped level farming!",
        Duration = 3
    })
end)

local AutoQuestToggle = AutoFarmTab:AddToggle("AutoQuestToggle", {
    Title = "Auto Accept Quest",
    Default = false
})

AutoQuestToggle:OnChanged(function(Value)
    Settings.AutoQuest = Value
end)

AutoFarmTab:AddSection("Boss Farming")

local BossDropdown = AutoFarmTab:AddDropdown("BossSelect", {
    Title = "Select Boss",
    Values = {"Gorilla King", "Bobby", "Yeti", "Mob Leader", "Vice Admiral", "Warden", "Chief Warden", "Swan", "Magma Admiral", "Fishman Lord", "Wysper", "Thunder God", "Cyborg", "Ice Admiral", "Greybeard", "Diamond", "Jeremy", "Fajita", "Don Swan", "Smoke Admiral", "Cursed Captain", "Darkbeard", "Order", "Awakened Ice Admiral", "Tide Keeper", "rip_indra True Form", "Longma", "Soul Reaper"},
    Multi = false,
    Default = 1
})

BossDropdown:OnChanged(function(Value)
    Settings.SelectedBoss = Value
end)

local AutoBossToggle = AutoFarmTab:AddToggle("AutoBossToggle", {
    Title = "Auto Kill Selected Boss",
    Default = false
})

AutoBossToggle:OnChanged(function(Value)
    Settings.AutoBoss = Value
end)

-- RAID TAB
RaidTab:AddSection("Raid Settings")

local ChipDropdown = RaidTab:AddDropdown("ChipSelect", {
    Title = "Choose Chip",
    Values = {"Flame", "Ice", "Quake", "Light", "Dark", "Spider", "Sand", "Magma", "Rumble", "Buddha", "Dough", "Phoenix"},
    Multi = false,
    Default = 1
})

ChipDropdown:OnChanged(function(Value)
    Settings.SelectedChip = Value
end)

RaidTab:AddButton({
    Title = "Start Raid",
    Description = "Start the selected raid",
    Callback = function()
        pcall(function()
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("RaidsNpc", "Select", Settings.SelectedChip)
        end)
        Fluent:Notify({
            Title = "Raid Started",
            Content = "Starting " .. Settings.SelectedChip .. " raid!",
            Duration = 3
        })
    end
})

local AutoRaidToggle = RaidTab:AddToggle("AutoRaidToggle", {
    Title = "Auto Raid (Kill All + Next Island)",
    Default = false
})

AutoRaidToggle:OnChanged(function(Value)
    Settings.AutoRaid = Value
end)

local AutoAwakenToggle = RaidTab:AddToggle("AutoAwakenToggle", {
    Title = "Auto Awaken Fruit",
    Default = false
})

AutoAwakenToggle:OnChanged(function(Value)
    Settings.AutoAwaken = Value
end)

-- PVP TAB
PvPTab:AddSection("PvP Settings")

local PlayerDropdown = PvPTab:AddDropdown("PlayerSelect", {
    Title = "Select Player",
    Values = {},
    Multi = false,
    Default = 1
})

-- Update player list
spawn(function()
    while true do
        local playerNames = {}
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= Player then
                table.insert(playerNames, player.Name)
            end
        end
        if #playerNames > 0 then
            PlayerDropdown:SetValues(playerNames)
        end
        wait(5)
    end
end)

local KillAuraToggle = PvPTab:AddToggle("KillAuraToggle", {
    Title = "Kill Aura",
    Default = false
})

KillAuraToggle:OnChanged(function(Value)
    Settings.KillAura = Value
end)

local LockTargetToggle = PvPTab:AddToggle("LockTargetToggle", {
    Title = "Lock Target",
    Default = false
})

LockTargetToggle:OnChanged(function(Value)
    Settings.LockTarget = Value
end)

PvPTab:AddButton({
    Title = "Teleport to Player",
    Description = "Teleport to selected player",
    Callback = function()
        if PlayerDropdown.Value then
            local targetPlayer = Players:FindFirstChild(PlayerDropdown.Value)
            if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                TeleportTo(targetPlayer.Character.HumanoidRootPart.Position)
            end
        end
    end
})

-- SEA TAB
SeaTab:AddSection("Sea Events")

local AutoSeaEventToggle = SeaTab:AddToggle("AutoSeaEventToggle", {
    Title = "Auto Sea Event",
    Default = false
})

AutoSeaEventToggle:OnChanged(function(Value)
    Settings.AutoSeaEvent = Value
end)

local AutoLeviathanToggle = SeaTab:AddToggle("AutoLeviathanToggle", {
    Title = "Auto Leviathan",
    Default = false
})

AutoLeviathanToggle:OnChanged(function(Value)
    Settings.AutoLeviathan = Value
end)

local AutoKitsuneToggle = SeaTab:AddToggle("AutoKitsuneToggle", {
    Title = "Auto Kitsune Island",
    Default = false
})

AutoKitsuneToggle:OnChanged(function(Value)
    Settings.AutoKitsune = Value
end)

local AutoTerrorsharkToggle = SeaTab:AddToggle("AutoTerrorsharkToggle", {
    Title = "Auto Terrorshark",
    Default = false
})

AutoTerrorsharkToggle:OnChanged(function(Value)
    Settings.AutoTerrorshark = Value
end)

-- TELEPORT TAB
TeleportTab:AddSection("Island Teleportation")

local function GetCurrentSea()
    local placeId = game.PlaceId
    if placeId == 2753915549 then
        return 1
    elseif placeId == 4442272183 then
        return 2
    elseif placeId == 7449423635 then
        return 3
    end
    return 1
end

local currentSea = GetCurrentSea()
local islandList = {}

if currentSea == 1 then
    islandList = {"Pirate Starter Island", "Marine Starter Island", "Middle Town", "Jungle", "Pirate Village", "Desert", "Frozen Village", "Marine Fortress", "Skylands", "Prison", "Colosseum", "Magma Village", "Under Water Island", "Fountain City", "Shank Room", "Mob Island"}
elseif currentSea == 2 then
    islandList = {"The Cafe", "Fajita Island", "Green Zone", "Factory", "Colossseum", "Zombie Island", "Two Snow Mountain", "Punk Hazard", "Cursed Ship", "Ice Castle", "Forgotten Island", "Ussop Island", "Mini Sky Island"}
else
    islandList = {"Mansion", "Port Town", "Great Tree", "Castle On The Sea", "MiniSky", "Hydra Island", "Floating Turtle", "Haunted Castle", "Ice Cream Island", "Peanut Island", "Cake Island", "Candy Cane Island", "Tiki Outpost"}
end

local IslandDropdown = TeleportTab:AddDropdown("IslandSelect", {
    Title = "Select Island (Sea " .. currentSea .. ")",
    Values = islandList,
    Multi = false,
    Default = 1
})

-- Island Coordinates
local IslandCoordinates = {
    -- Sea 1
    ["Pirate Starter Island"] = Vector3.new(1071, 17, 1426),
    ["Marine Starter Island"] = Vector3.new(-2662, 7, 2048),
    ["Middle Town"] = Vector3.new(-655, 15, 1511),
    ["Jungle"] = Vector3.new(-1612, 37, 149),
    ["Pirate Village"] = Vector3.new(-1181, 5, 3803),
    ["Desert"] = Vector3.new(944, 21, 4373),
    ["Frozen Village"] = Vector3.new(1347, 104, -1319),
    ["Marine Fortress"] = Vector3.new(-2994, 21, 2409),
    ["Skylands"] = Vector3.new(-4969, 718, -2917),
    ["Prison"] = Vector3.new(4875, 6, 734),
    ["Colosseum"] = Vector3.new(-1427, 8, -2673),
    ["Magma Village"] = Vector3.new(-5247, 9, 8504),
    ["Under Water Island"] = Vector3.new(61124, 19, 1569),
    ["Fountain City"] = Vector3.new(5127, 60, 4105),
    ["Shank Room"] = Vector3.new(-1442, 30, -12),
    ["Mob Island"] = Vector3.new(-2850, 7, -11),
    
    -- Sea 2
    ["The Cafe"] = Vector3.new(-380, 73, 297),
    ["Fajita Island"] = Vector3.new(-2085, 73, -4208),
    ["Green Zone"] = Vector3.new(-2448, 73, -3262),
    ["Factory"] = Vector3.new(424, 200, -427),
    ["Colossseum"] = Vector3.new(-1503, 219, 1369),
    ["Zombie Island"] = Vector3.new(-5622, 492, -781),
    ["Two Snow Mountain"] = Vector3.new(753, 408, -5274),
    ["Punk Hazard"] = Vector3.new(-6127, 16, -5040),
    ["Cursed Ship"] = Vector3.new(923, 125, 32885),
    ["Ice Castle"] = Vector3.new(5249, 42, -6550),
    ["Forgotten Island"] = Vector3.new(-3032, 317, -10075),
    ["Ussop Island"] = Vector3.new(4816, 8, 2863),
    ["Mini Sky Island"] = Vector3.new(-288, 306, -2394),
    
    -- Sea 3
    ["Mansion"] = Vector3.new(-12471, 374, -7551),
    ["Port Town"] = Vector3.new(-290, 7, 5343),
    ["Great Tree"] = Vector3.new(2681, 1682, -7190),
    ["Castle On The Sea"] = Vector3.new(-5085, 316, -3156),
    ["MiniSky"] = Vector3.new(-260, 1925, -2532),
    ["Hydra Island"] = Vector3.new(5228, 604, -345),
    ["Floating Turtle"] = Vector3.new(-13274, 332, -7906),
    ["Haunted Castle"] = Vector3.new(-9515, 142, 5511),
    ["Ice Cream Island"] = Vector3.new(-902, 79, -10988),
    ["Peanut Island"] = Vector3.new(-2062, 50, -10232),
    ["Cake Island"] = Vector3.new(-1884, 19, -11666),
    ["Candy Cane Island"] = Vector3.new(-1103, 9, -14297),
    ["Tiki Outpost"] = Vector3.new(-16542, 55, 1051)
}

TeleportTab:AddButton({
    Title = "Teleport to Island",
    Description = "Teleport to selected island",
    Callback = function()
        local islandName = IslandDropdown.Value or islandList[1]
        local coordinates = IslandCoordinates[islandName]
        if coordinates then
            TeleportTo(coordinates)
            Fluent:Notify({
                Title = "Teleport",
                Content = "Teleporting to " .. islandName .. "!",
                Duration = 3
            })
        end
    end
})

-- SETTINGS TAB
SettingsTab:AddSection("Ultimate Settings")

SettingsTab:AddParagraph({
    Title = "SPACE HUB ULTIMATE",
    Content = "Created by MOHA\nVersion 3.0 - Ultimate OP Edition\nWith MASSIVE hitbox (25x multiplier)\nEnhanced combat system\nAll features optimized\nMobile UI perfected"
})

SettingsTab:AddSection("Combat Enhancement")

local AttackRangeSlider = SettingsTab:AddSlider("AttackRangeSlider", {
    Title = "Attack Range",
    Description = "Base attack range",
    Default = 500,
    Min = 100,
    Max = 2000,
    Rounding = 1
})

AttackRangeSlider:OnChanged(function(Value)
    Settings.AttackRange = Value
end)

local HitboxMultiplierSlider = SettingsTab:AddSlider("HitboxMultiplierSlider", {
    Title = "Hitbox Multiplier",
    Description = "MASSIVE hitbox increase",
    Default = 25,
    Min = 1,
    Max = 100,
    Rounding = 1
})

HitboxMultiplierSlider:OnChanged(function(Value)
    Settings.HitboxMultiplier = Value
end)

local AttackDelaySlider = SettingsTab:AddSlider("AttackDelaySlider", {
    Title = "Attack Delay",
    Description = "Lower = Faster attacks",
    Default = 0.02,
    Min = 0.01,
    Max = 0.5,
    Rounding = 2
})

AttackDelaySlider:OnChanged(function(Value)
    Settings.AttackDelay = Value
end)

SettingsTab:AddSection("Movement Settings")

local WalkSpeedSlider = SettingsTab:AddSlider("WalkSpeedSlider", {
    Title = "Walk Speed",
    Description = "Character movement speed",
    Default = 16,
    Min = 16,
    Max = 1000,
    Rounding = 1
})

WalkSpeedSlider:OnChanged(function(Value)
    Settings.WalkSpeed = Value
    if Character and Character:FindFirstChild("Humanoid") then
        Character.Humanoid.WalkSpeed = Value
    end
end)

local JumpPowerSlider = SettingsTab:AddSlider("JumpPowerSlider", {
    Title = "Jump Power",
    Description = "Character jump height",
    Default = 50,
    Min = 50,
    Max = 1000,
    Rounding = 1
})

JumpPowerSlider:OnChanged(function(Value)
    Settings.JumpPower = Value
    if Character and Character:FindFirstChild("Humanoid") then
        Character.Humanoid.JumpPower = Value
    end
end)

SettingsTab:AddToggle("NoClipToggle", {
    Title = "No Clip",
    Default = false
}):OnChanged(function(Value)
    Settings.NoClip = Value
end)

SettingsTab:AddToggle("InfiniteJumpToggle", {
    Title = "Infinite Jump",
    Default = false
}):OnChanged(function(Value)
    Settings.InfiniteJump = Value
end)

SettingsTab:AddToggle("AntiAFKToggle", {
    Title = "Anti AFK",
    Default = true
}):OnChanged(function(Value)
    Settings.AntiAFK = Value
end)

-- Enhanced Boss Fighting Function
local function FindBoss(bossName)
    for _, boss in pairs(Workspace.Enemies:GetChildren()) do
        if boss.Name == bossName and boss:FindFirstChild("Humanoid") and boss:FindFirstChild("HumanoidRootPart") and boss.Humanoid.Health > 0 then
            return boss
        end
    end
    return nil
end

local function FightBoss(boss)
    if boss and boss:FindFirstChild("HumanoidRootPart") and boss:FindFirstChild("Humanoid") and boss.Humanoid.Health > 0 then
        repeat
            TeleportTo(boss.HumanoidRootPart.Position + Vector3.new(0, 15, 0))
            if Settings.AutoEquipWeapon then
                EquipWeapon()
            end
            if Settings.BringMobs then
                BringMob(boss)
            end
            if Settings.FastAttack then
                FastAttack()
            end
            wait(0.1)
        until not boss.Parent or boss.Humanoid.Health <= 0 or not Settings.AutoBoss
    end
end

-- Enhanced Raid Function
local function AutoRaidFunction()
    pcall(function()
        for _, enemy in pairs(Workspace.Enemies:GetChildren()) do
            if enemy:FindFirstChild("Humanoid") and enemy:FindFirstChild("HumanoidRootPart") and enemy.Humanoid.Health > 0 then
                local distance = (RootPart.Position - enemy.HumanoidRootPart.Position).Magnitude
                if distance < 2000 then
                    repeat
                        TeleportTo(enemy.HumanoidRootPart.Position + Vector3.new(0, 15, 0))
                        if Settings.AutoEquipWeapon then
                            EquipWeapon()
                        end
                        BringMob(enemy)
                        if Settings.FastAttack then
                            FastAttack()
                        end
                        wait(0.1)
                    until not enemy.Parent or enemy.Humanoid.Health <= 0 or not Settings.AutoRaid
                end
            end
        end
        
        -- Auto next island
        if Settings.AutoNextIsland then
            local nextButton = Player.PlayerGui:FindFirstChild("RaidGUI")
            if nextButton and nextButton:FindFirstChild("NextButton") then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("RaidNextButton")
            end
        end
    end)
end

-- Main Game Loop
local MainConnection = RunService.Heartbeat:Connect(function()
    pcall(function()
        -- Update enhanced stats display
        if LevelLabel then
            LevelLabel:SetDesc("Current Level: " .. GetPlayerLevel())
        end
        if MoneyLabel then
            MoneyLabel:SetDesc("Beli: " .. string.format("%s", GetPlayerMoney()))
        end
        if FragmentsLabel then
            FragmentsLabel:SetDesc("Fragments: " .. string.format("%s", GetPlayerFragments()))
        end
        if RaceLabel then
            RaceLabel:SetDesc("Race: " .. GetPlayerRace())
        end
        if BountyLabel then
            BountyLabel:SetDesc("Bounty: " .. string.format("%s", GetPlayerBounty()))
        end
        if HonorLabel then
            HonorLabel:SetDesc("Honor: " .. string.format("%s", GetPlayerHonor()))
        end
        
        -- Anti AFK
        if Settings.AntiAFK then
            VirtualInputManager:SendKeyEvent(true, "F15", false, game)
            VirtualInputManager:SendKeyEvent(false, "F15", false, game)
        end
        
        -- Enhanced Movement
        if Character and Character:FindFirstChild("Humanoid") then
            Character.Humanoid.WalkSpeed = Settings.WalkSpeed
            Character.Humanoid.JumpPower = Settings.JumpPower
        end
        
        -- No Clip
        if Settings.NoClip and Character then
            for _, part in pairs(Character:GetChildren()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end
        
        -- Auto Equip Weapon
        if Settings.AutoEquipWeapon and Settings.FastAttack then
            EquipWeapon()
        end
    end)
end)

table.insert(Connections, MainConnection)

-- Auto Farm Level Loop
spawn(function()
    while true do
        if Settings.AutoFarmLevel then
            AutoFarmLevel()
        end
        wait(1)
    end
end)

-- Auto Boss Loop
spawn(function()
    while true do
        if Settings.AutoBoss and Settings.SelectedBoss then
            local boss = FindBoss(Settings.SelectedBoss)
            if boss then
                FightBoss(boss)
            end
        end
        wait(1)
    end
end)

-- Raid Loop
spawn(function()
    while true do
        if Settings.AutoRaid then
            AutoRaidFunction()
        end
        wait(1)
    end
end)

-- PvP Loop
spawn(function()
    while true do
        if Settings.KillAura then
            for _, targetPlayer in pairs(Players:GetPlayers()) do
                if targetPlayer ~= Player and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    local distance = (RootPart.Position - targetPlayer.Character.HumanoidRootPart.Position).Magnitude
                    if distance < Settings.PvPRange then
                        if Settings.AutoEquipWeapon then
                            EquipWeapon()
                        end
                        if Settings.FastAttack then
                            FastAttack()
                        end
                    end
                end
            end
        end
        
        if Settings.LockTarget and PlayerDropdown.Value then
            local targetPlayer = Players:FindFirstChild(PlayerDropdown.Value)
            if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local direction = (targetPlayer.Character.HumanoidRootPart.Position - RootPart.Position).Unit
                RootPart.CFrame = CFrame.lookAt(RootPart.Position, targetPlayer.Character.HumanoidRootPart.Position)
            end
        end
        wait(0.1)
    end
end)

-- Infinite Jump
UserInputService.JumpRequest:Connect(function()
    if Settings.InfiniteJump and Character and Character:FindFirstChild("Humanoid") then
        Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- Character respawn handling
Player.CharacterAdded:Connect(function(newCharacter)
    Character = newCharacter
    Humanoid = Character:WaitForChild("Humanoid")
    RootPart = Character:WaitForChild("HumanoidRootPart")
    
    -- Apply settings
    Humanoid.WalkSpeed = Settings.WalkSpeed
    Humanoid.JumpPower = Settings.JumpPower
end)

-- Ultimate notification
Fluent:Notify({
    Title = "SPACE HUB ULTIMATE",
    Content = "v3.0 Ultimate OP Edition loaded!\nMASSIVE hitbox (25x multiplier)\nEnhanced level farming logic\nAll features optimized\nCreated by MOHA",
    Duration = 8
})

print("SPACE HUB ULTIMATE v3.0 - Successfully loaded!")
print("Features: MASSIVE hitbox, enhanced farming, OP combat system")
print("Light theme with premium mobile UI")
print("Perfect for Blox Fruits domination!")
